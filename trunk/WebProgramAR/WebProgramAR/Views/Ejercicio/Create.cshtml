@model WebProgramAR.Entidades.Ejercicio


@{
    Layout = null;
    ViewBag.Title = "Ejercicios";
}

<h2>Nuevo</h2>
<legend>Ejercicio</legend>

<script src="@Url.Content("~/Scripts/jquery.validate.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/jquery.validate.unobtrusive.min.js")" type="text/javascript"></script>
<script src="@Url.Content("~/Scripts/utils.js")" type="text/javascript"></script>


   
@using (Ajax.BeginForm("Create", "Ejercicio", FormMethod.Post, new AjaxOptions { UpdateTargetId = "update-message", OnSuccess = "updateSuccess", HttpMethod = "POST" }, new { autocomplete = "off" }))
{ 
    <fieldset>
        @Html.ValidationSummary(true)

        @Html.Partial("_CreateOrEdit", Model)
         
        <div style="width:100%">
            <div style="display:inline;float:left;left:15%;">
                <input type="submit" value="Guardar" class="submit" id="btnGuardar"/>
            </div>
            <div style="float:left;margin-left:20px;">
                 <input type="button" value="Cancelar" class="submit" id="btnCancelar"/>
            </div>
        </div>
    </fieldset>
}
<div id="update-message" class"error" style="display:none;"></div>
<div id="divOperacionExitosa">Operacion Exitosa</div>
<script type="text/javascript">
    $("#btnCancelar").live('click', function () {
        CerrarDialog();
    });
    function updateWindow() {
        $("#divOperacionExitosa").delay(300).fadeOut(500);
        setTimeout("updateWin()", 3000);
    }
    function updateWin() {
        window.location.reload();
    }

    function updateSuccess() {
        if ($("#update-message").html() == "True") {
            $("#divOperacionExitosa").fadeIn(300);
            updateWindow();

        } else {
            $("#update-message").show();
        }

    }
    
</script>